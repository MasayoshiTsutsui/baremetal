05-201020 筒井政成

lapic_intr_handlerとほとんど同じ実装でシステムコールは実現できたが、
唯一異なる点は、システムコールには返り値が存在するためraxレジスタの扱いに気をつけなければならないという点である。
ハンドラからの復帰の際にraxを復帰しないようにするのは当然のこととして、それに伴ってハンドラの起動時にraxをpushしないようにすることにも気をつけなければならなかった。
ハンドラからの復帰によるpopの回数とハンドラ起動時のpushの回数が一致しなくなり、スタックポインタがずれていってしまうからである。

このことにさえ気をつければ、特に問題なく実装できた。